<ngx-json-ld [json]="schema"></ngx-json-ld>
<div class="parallax page-title inverse-wrapper parallax2 custombackground" [ngStyle]="{background: 'url(' + entrada.librosEntrada[0].generos[0].imagenCabeceraGenero + ')'}">
  <div class="container inner">
    <div class="generosLibro">
      <span *ngFor="let genero of entrada.librosEntrada[0].generos, let last = last;">{{genero.nombre}}
        <span [hidden]="last">, </span>
      </span>
    </div>
  </div>
</div>
<app-menu-interno-libro [libro]="entrada.librosEntrada[0]" [datosEntrada]="entrada.datosEntrada" [parentType]="'ANALISIS'"></app-menu-interno-libro>
<div class="light-wrapper">
  <div class="container inner">
    <div class="blog row">
      <div class="col-md-8">
        <img src="{{entrada.imagenDestacada}}" alt="Imágen destacada - {{entrada.tituloEntrada}}" title="Imágen destacada - {{entrada.tituloEntrada}}" />
      </div>
      <div class="col-md-4">
        <div class="dark-wrapper bloqueInfoLibro">
          <div class="bloqueNota">
            <app-nota-circular [nota]="entrada.librosEntrada[0].notaMomoko"></app-nota-circular>
          </div>
          <div class="bloqueDatos">
            <div class="datos autor" *ngIf="entrada.librosEntrada[0].titulo">
              <b>Título:
                <span class="info">{{entrada.librosEntrada[0].titulo}}</span>
              </b>
            </div>
            <div class="datos autor" *ngIf="entrada.librosEntrada[0].tituloOriginal">
              <b>Título original:
                <span class="info">{{entrada.librosEntrada[0].tituloOriginal}}</span>
              </b>
            </div>
            <div class="datos autor" *ngIf="authors">
              <b>Autor: </b>
                <ng-container *ngFor="let author of entrada.librosEntrada[0].autores; let last = last;">
                <a routerLink="/autor/{{author.authorUrl}}"><span class="info">{{author.name}}</span><span *ngIf="!last">, </span></a>
               </ng-container>
            </div>
            <div class="datos numPaginas" *ngIf="entrada.librosEntrada[0].numeroPaginas">
              <b>Nº de páginas:
                <span class="info">{{entrada.librosEntrada[0].numeroPaginas}}</span>
              </b>
            </div>
            <div class="datos autor" *ngIf="entrada.librosEntrada[0].anoPublicacion">
              <b>Año de publicación:
                <span class="info">{{entrada.librosEntrada[0].anoPublicacion}}</span>
              </b>
            </div>
            <div class="datos autor" *ngIf="entrada.librosEntrada[0].anoEdicion">
              <b>Año de edición:
                <span class="info">{{entrada.librosEntrada[0].anoEdicion}}</span>
              </b>
            </div>
          </div>
          <div class="bloqueBotones" *ngIf="entrada.librosEntrada[0].enlaceAmazon">
            <div class="col-md-12">
              <a class="amazon" href="{{entrada.librosEntrada[0].enlaceAmazon}}" target="_blank" title="Compra  en Amazon">
                <span class="btnComprarAmazon">Comprar libro &gt;</span>
                <img src="https://www.momoko.es/wp-content/themes/pustaka/assets/img/compralo_en_amazon.png" alt="Amazon"
                  title="Amazon">
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row" *ngIf="!entrada.tieneGaleria">
      <div class="contenidoEntrada">
        <div class="col-md-8">

          <div class="tituloEntrada">
            <h1>{{entrada.tituloEntrada}}</h1>
          </div>
          <div class="infoEntrada">
            Análisis de
            <span class="autorEntrada">
              <a routerLink="/redactor/{{entrada.redactor.urlRedactor}}">{{entrada.redactor.nombre}}</a>
            </span>
            <span class="generosText">Género
              <span *ngFor="let genero of entrada.librosEntrada[0].generos, let last = last;">
                <a routerLink="/genero/{{genero.urlGenero}}">{{genero.nombre}}</a>
                <span [hidden]="last">, </span>
              </span>
            </span>
            <span class="editorialText">Editorial
              <span class="autorEntrada">
                <a routerLink="/editorial/{{entrada.librosEntrada[0].editorial.urlEditorial}}">{{entrada.librosEntrada[0].editorial.nombreEditorial}}</a>
              </span>
            </span>
          </div>
          <div class="cuerpo">
            <div [innerHTML]="content | sanitizeHtml"></div>
            <ng-container *ngFor="let bookTemp of bookTemplates; let i = index">
              <app-book-template [bookTemp]="bookTemp"></app-book-template>
            </ng-container>


          </div>
          <div class="infoEntrada">

            <span class="lineaHorizontalCorta"></span>
            <span class="etiquetasText">Etiquetas
              <span *ngFor="let etiqueta of entrada.etiquetas, let last = last;">
                <a routerLink="/tag/{{etiqueta.urlEtiqueta}}">{{etiqueta.nombreEtiqueta}}</a>
                <span [hidden]="last">, </span>
              </span>
            </span>
          </div>

          <hr />
          <div class="row">
            <div class="col-md-12">
              <h2 class="section-title"> Análisis de </h2>
              <app-redactor-info [redactor]="entrada.redactor"></app-redactor-info>
            </div>
          </div>
          <hr />
          <app-zona-comentarios [comentarios]="comentarios" [entrada]="entrada"></app-zona-comentarios>

          <div class="row">
            <app-mobile-sidebar [libros]="librosParecidos" [tituloSeccionLibros]="tituloSeccionLibros"></app-mobile-sidebar>
          </div>
        </div>
        <app-sidebar [libros]="librosParecidos" [tituloSeccionLibros]="tituloSeccionLibros"></app-sidebar>
      </div>

    </div>
    <div class="row" *ngIf="entrada.tieneGaleria">
      <div class="col-md-12">
        <div class="contenidoEntrada">
          <div class="tituloEntrada">
            <h1>{{entrada.tituloEntrada}}</h1>
          </div>
          <div class="infoEntrada">
            Análisis de
            <span class="autorEntrada">
              <a routerLink="/redactor/{{entrada.redactor.urlRedactor}}">{{entrada.redactor.nombre}}</a>
            </span>
            <span class="generosText">Género
              <span *ngFor="let genero of entrada.librosEntrada[0].generos, let last = last;">
                <a routerLink="/genero/{{genero.urlGenero}}">{{genero.nombre}}</a>
                <span [hidden]="last">, </span>
              </span>
            </span>
          </div>

          <div class="infoEntrada">

            <span class="lineaHorizontalCorta"></span>
            <span class="etiquetasText">Etiquetas
              <span *ngFor="let etiqueta of entrada.etiquetas, let last = last;">
                <a routerLink="/tag/{{etiqueta.urlEtiqueta}}">{{etiqueta.nombreEtiqueta}}</a>
                <span [hidden]="last">, </span>
              </span>
            </span>
          </div>

          <!-- <app-sobre-autor [autor]="entrada.autor"></app-sobre-autor> -->
          <!-- <app-sobre-autor *ngIf="entrada.autor"  [autor]="entrada.autor"></app-sobre-autor> -->

          <app-zona-comentarios [comentarios]="comentarios" [entrada]="entrada"></app-zona-comentarios>
        </div>
      </div>
    </div>
  </div>
</div>